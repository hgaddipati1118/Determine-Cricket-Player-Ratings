"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[561],{37707:function(t,e,n){n.d(e,{Z:function(){return r},v:function(){return o}});var r=function(t){return t.replace(/(<([^>]+)>)/gi,"")},o=function(t){return t.split("\n\n").map((function(t){return"<p>".concat(t,"</p>")})).join("")}},96018:function(t,e,n){n.d(e,{Z:function(){return T}});var r=n(1717),o=n(6952),i=n(88742),c=n.n(i),a=n(60042),u=n.n(a),s=n(27378),d=n(78392),f=n(36077),l=n(5273),p=n(2251),v=n(1305),m=n(37182),g=n(62882),h=n(35294),O=n.n(h),b=n(4550),y=n(34356),j=function(){var t=(0,o.Z)(c().mark((function t(e){var n;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.A.get("/v1/pages/poll/info",e);case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),E=n(24246);function P(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}var T=function(t){var e=t.poll,n=t.className,i=(0,s.useState)(null),a=i[0],h=i[1],y=(0,s.useState)(e),T=y[0],N=y[1],S=T.title,U=T.objectId,w=T.id,I=T.options,_=T.generatedAt,L=T.modifiedAt,A=0;I.forEach((function(t){A+=t.votes})),(0,d.Z)((function(){var t,e=null===(t=(0,m.Vy)(g.dm.POLL_ANSWERS,[]))||void 0===t?void 0:t.find((function(t){return t.includes("".concat(U,":"))}));e&&h(parseInt(e.split(":")[1],10)),(new Date).getTime()-new Date(_).getTime()>6e4?(new Date).getTime()-new Date(L).getTime()<1728e5&&(0,o.Z)(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=N,t.next=3,j({pollId:U,latest:!0});case 3:t.t1=t.sent,(0,t.t0)(t.t1);case 5:case"end":return t.stop()}}),t)})))():e&&(0,o.Z)(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=N,t.next=3,j({pollId:U,latest:!0});case 3:t.t1=t.sent,(0,t.t0)(t.t1);case 5:case"end":return t.stop()}}),t)})))()}));var D=function(t){if(a)return null;var e="".concat(b.Z.global.submitBaseUrl,"/ci/content/submit/poll/poll_v2.json?object_id=").concat(U,"&content_id=").concat(w,"&vote=1&poll_id=").concat(t.id,"&mode=POSITIVE");O()(e,{timeout:3e3}).then((function(t){return t.json()})).then((function(e){(0,m.eW)(g.dm.POLL_ANSWERS,"".concat(U,":").concat(t.id)),h(t.id),N((function(t){var n=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?P(Object(n),!0).forEach((function(e){(0,r.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},t),o={};return n.options.forEach((function(t){o[t.id]=t})),e.vote.forEach((function(t){o[t.optionId]&&(o[t.optionId].votes=t.count)})),n}))}))};return(0,E.jsxs)("div",{className:u()("ds-bg-fill-content-alternate ds-p-3",n),children:[(0,E.jsxs)("div",{className:"ds-flex ds-items-center ds-justify-between",children:[(0,E.jsxs)("div",{className:"ds-flex",children:[(0,E.jsx)(f.ZP,{name:p.v.POLL_OUTLINE,size:f.XR.SM}),(0,E.jsx)(l.ZP,{variant:l.Fu.TITLE_SUBTLE_M,className:"ds-ml-1",children:S})]}),(0,E.jsxs)(l.ZP,{variant:l.Fu.COMPACT_XS,className:"ds-text-typo-paragraph-light",children:[A>=1e3?(A/1e3).toFixed(1):A," votes"]})]}),(0,E.jsx)("div",{className:u()("ds-grid ds-gap-1 ds-mt-4 ds-grid-cols-1",I.length>3?"lg:ds-grid-cols-1":"lg:ds-grid-cols-3"),children:I.map((function(t,e){var n=A>0?Math.round((0,v.Ux)(t.votes,A)):0;return(0,E.jsxs)("div",{className:u()("ds-bg-ui-fill ds-border ds-border-line ds-rounded-lg ds-p-2 ds-relative ds-flex ds-justify-between ds-items-center",{"ds-cursor-pointer":!a}),onClick:function(){return D(t)},children:[(0,E.jsx)("div",{className:"ds-bg-raw-blue20 ds-absolute ds-left-0 ds-top-0 ds-h-full ds-rounded-lg ds-transition-all",style:{width:a?"".concat(n,"%"):0}}),(0,E.jsx)(l.ZP,{element:"div",variant:l.Fu.COMPACT_XS_MEDIUM,children:t.title}),a?(0,E.jsxs)(l.ZP,{element:"div",variant:l.Fu.COMPACT_XS_MEDIUM,children:[a===t.id?"You & ":""," ",n,"%"]}):null]},e)}))})]})}},22e3:function(t,e,n){n.d(e,{Kv:function(){return f},aH:function(){return l},vl:function(){return m},$i:function(){return g},RW:function(){return h},EL:function(){return b},Tj:function(){return y},uZ:function(){return j}});var r=n(1717),o=n(27693),i=n.n(o),c=n(18708),a=n(2251),u=n(37707);function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function d(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(Object(n),!0).forEach((function(e){(0,r.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var f=function(t){var e="";return t.items.forEach((function(t){if(t.type===c.tX.HTML){var n=t;e+=(0,u.Z)(n.html)}})),e},l=function(t){switch(t.type){case c.Rn.VIDEO:return a.v.PLAY_CIRCLE_OUTLINE;case c.Rn.TEXT:return a.v.TEXT_SNIPPET_OUTLINE;case c.Rn.POLL:return a.v.POLL_OUTLINE;case c.Rn.INSTAGRAM:return a.v.INSTAGRAM_LOGO;case c.Rn.TWITTER:return a.v.TWITTER_LOGO;default:return a.v.TEXT_SNIPPET_OUTLINE}},p=function(t){return 1===t?"min":"mins"},v=function(t){return 1===t?"hr":"hrs"},m=function(t){var e=t.publishedAt,n=t.modifiedAt,r=t.showModifiedAt,o=t.showPublishedAt,c=i()(),a=i()(e),u=a.utc(),s=i()(n),d=c.diff(a,"hour"),f=c.diff(a,"minute"),l=c.diff(s,"hour"),m=c.diff(s,"minute"),g=0===s.diff(a,"second"),h="DD-MMM-YYYY";if(o&&!r)return f<=60?"".concat(f," ").concat(p(f)," ago"):d<24?"".concat(d," ").concat(v(d)," ago"):u.format(h);if(r&&!o)return m<=60?"Updated ".concat(m," ").concat(p(m)," ago"):l<24?"Updated ".concat(l," ").concat(v(l)," ago"):"Updated on ".concat(s.format(h));if(o&&r)if(d<24){if(l-d<24){if(m<=60)return"Today \u2022 Updated ".concat(m," ").concat(p(m)," ago");if(l<24)return"Today \u2022 Updated ".concat(l," ").concat(v(l)," ago")}if(f<=60)return"".concat(f," ").concat(p(f)," ago");if(d<24)return"".concat(d," ").concat(v(d)," ago")}else{if(m<=60)return"".concat(u.format(h)," \u2022 Updated ").concat(m," ").concat(p(m)," ago");if(l<24)return"".concat(u.format(h)," \u2022 Updated ").concat(l," ").concat(v(l)," ago");if(g||0===s.diff(a,"day"))return u.format(h);if(s.diff(a,"day")>0)return"".concat(u.format(h)," \u2022 Updated on ").concat(s.format(h))}return""},g=function(t,e){var n=i()(),r=i()(t.publishedAt),o="DD-MMM-YYYY",c="Published ".concat(r.format(o));r.format(o)===n.format(o)&&(c="Published Today");var a="";if(e){var u=i()(e.publishedAt),s=n.diff(u,"second"),d=n.diff(u,"minute"),f=n.diff(u,"hour");a=s<60?"Updated ".concat(s," ").concat(1===s?"sec":"secs"," ago"):d<60?"Updated ".concat(d," ").concat(p(d)," ago"):f<24?"Updated ".concat(f," ").concat(v(f)," ago"):"Updated ".concat(u.format(o))}return""!==a?"".concat(a," \u2022 ").concat(c):c},h=function(t){var e=i()(),n=i()(t.publishedAt),r=e.diff(n,"hour"),o=e.diff(n,"minute"),c=e.diff(n,"second");return c<60?"".concat(c,"s ago"):o<60?"".concat(o,"m ago"):r<24?"".concat(r,"h ago"):"".concat(n.format("DD MMM YYYY, h:mm a"))},O=[{unicode:"U+1F44F",skintone:c.sU.SKIN_TONE_NEUTRAL},{unicode:"U+2764",skintone:c.sU.SKIN_TONE_NEUTRAL},{unicode:"U+1F525",skintone:c.sU.SKIN_TONE_NEUTRAL},{unicode:"U+1F62D",skintone:c.sU.SKIN_TONE_NEUTRAL}],b=function(t,e){var n={};e.forEach((function(t){n[t.id]=t}));var r=[];return t.forEach((function(t){var e=d({},t),o=n[e.id];o&&o.reactionStat&&(e.reactionStat?i()(o.reactionStat.modifiedAt).valueOf()>i()(e.reactionStat.modifiedAt).valueOf()&&(e.reactionStat=o.reactionStat):e.reactionStat=o.reactionStat);r.push(e)})),r},y=function(t){var e=i()(),n=i()(t.publishedAt),r=e.diff(n,"second"),o=e.diff(n,"minute"),c=e.diff(n,"hour"),a=e.diff(n,"day"),u=e.diff(n,"month"),s=e.diff(n,"year");return r<60?"".concat(r,"s"):o<60?"".concat(o,"min"):c<24?"".concat(c,"h"):a<31?"".concat(a,"d"):u<12?"".concat(u,"m"):"".concat(s,"y")},j=function(t){var e,n=t.reactionStat;if(n){var r=[],o={};n.emojis.forEach((function(t){var e="".concat(t.unicode,"-").concat(t.skintone);o[e]=t})),O.forEach((function(t){var e="".concat(t.unicode,"-").concat(t.skintone),n=o[e];n?r.push(n):r.push({unicode:t.unicode,skintone:t.skintone,count:0})})),e=d(d({},n),{},{emojis:r})}else e={id:123,emojis:O.map((function(t){return{unicode:t.unicode,skintone:t.skintone,count:0}})),share:0,modifiedAt:i()().toISOString()};return d(d({},t),{},{reactionStat:e})}},25867:function(t,e,n){var r=n(1717),o=n(31750),i=(n(27378),n(50348)),c=n(7839),a=n(62882),u=n(27693),s=n.n(u),d=n(29198),f=n(44087),l=n(10626),p=n(32490),v=n(60042),m=n.n(v),g=n(18708),h=n(24246),O=["video","size","variant","contentType","action","override","hide","className","modal","imgVariant","imgSize","onClick","mediaInfo","autoplay"];function b(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function y(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?b(Object(n),!0).forEach((function(e){(0,r.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var j=function(t){return t.toLowerCase().replace(/[^a-z0-9]/gi," ").trim().replace(/\s+/gi,"-")};e.Z=function(t){var e,n,r=t.video,u=t.size,v=t.variant,b=t.contentType,E=t.action,P=t.override,T=t.hide,N=t.className,S=t.modal,U=t.imgVariant,w=t.imgSize,I=t.onClick,_=t.mediaInfo,L=void 0===_||_,A=t.autoplay,D=void 0!==A&&A,M=(0,o.Z)(t,O),x=r.title,k=r.summary,C=r.genreId,Y=r.genreName,Z=r.publishedAt,R=r.imageUrl,V=null!==(e=null===P||void 0===P?void 0:P.title)&&void 0!==e?e:x,z=null!==(n=null===P||void 0===P?void 0:P.summary)&&void 0!==n?n:k,F=null!==P&&void 0!==P&&P.imageUrl?null===P||void 0===P?void 0:P.imageUrl:R||void 0,X=[];Z&&X.push({label:(0,h.jsx)("time",{children:s()(Z).format("MMM DD, YYYY")})});return(0,h.jsx)(d.Z,{video:r,modal:S,autoplay:D,className:N,embedPlayerSelector:!1===S?".embedVideoCnt":void 0,children:function(t){return function(t){var e=void 0;L&&(r.origin.type===g.i0.CLIP?e=(0,l.zj)(r.duration):r.origin.type===g.i0.LIVE_STREAM&&(e="LIVE"));var n={type:c.f$.IMAGE_MEDIA,mediaType:f._L.VIDEO,info:e,imageUrl:F||a.DN.LAZYIMAGE_PLACEHOLDER,alt:V||"",variant:U,size:w};!t.showPlayer||r.origin.type!==g.i0.YOUTUBE&&!1!==S||(n={type:c.f$.NODE,node:(0,h.jsx)("div",{className:"ds-w-full",onClick:function(t){t.stopPropagation(),t.preventDefault()},children:t.player})});var o=void 0;return C&&Y&&(o={label:Y,anchorType:{href:(0,i.UL)({id:C,title:Y,summary:"",slug:j(Y),image:null,bgImage:null})}}),(0,h.jsx)(c.ZP,y(y({className:N,variant:v,size:u,title:null!==T&&void 0!==T&&T.title?void 0:V,description:null!==T&&void 0!==T&&T.description?void 0:z,category:null!==T&&void 0!==T&&T.category?void 0:o,anchorType:{href:(0,i.Hb)(r),data:y({},E&&{action:E}),onClick:function(){return(!I||!1!==I())&&(void 0!==S?(E&&(0,p.Yg)().trackEvent(E),t.setVideoPlayerState({type:"PLAY"}),r.origin.type===g.i0.YOUTUBE):void 0)}},contentType:b,media:n,attributes:null!==T&&void 0!==T&&T.attributes?void 0:X},M),{},{mediaContainerClassName:m()(M.mediaContainerClassName,!1===S?"embedVideoCnt":void 0)}))}(t)}})}}}]);